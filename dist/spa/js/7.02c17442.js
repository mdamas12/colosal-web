(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1b3d":function(e,t,a){},"526f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",[s("div",{staticClass:"container-profile bg-azul-tenue"},[s("q-layout",{staticClass:"rounded-borders",staticStyle:{"min-height":"550px"},attrs:{view:"hHh Lpr lff",container:""}},[s("q-header",{staticClass:"bg-white"},[s("q-breadcrumbs",{staticClass:"q-px-md text-grey q-pt-md breadcrumbs-perfil bg-azul-tenue",attrs:{gutter:"sm","active-color":"grey"}},[s("q-breadcrumbs-el",{attrs:{icon:"home",to:"/"}}),s("q-breadcrumbs-el",{staticClass:"texto-breadcrumbs text-bluesito",attrs:{label:"Mi Perfil"}})],1),s("q-toolbar",{staticClass:"bg-azul-tenue"},[s("q-btn",{staticClass:"lt-md",attrs:{flat:"",round:"",dense:"",icon:"menu",color:"bluesito"},on:{click:function(t){e.drawer=!e.drawer}}})],1)],1),s("q-drawer",{attrs:{"show-if-above":"",width:200,breakpoint:500,bordered:"","content-class":"bg-white"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("q-tabs",{staticClass:"text-tabs",attrs:{vertical:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"container"},[s("q-tab",{staticClass:"font-tabs-item",attrs:{name:"personal-info",label:"Información personal"}})],1)])]),s("q-tab",{staticClass:"font-tabs-item",attrs:{name:"order-status",label:"Estatus de Ordenes"}}),s("q-tab",{staticClass:"font-tabs-item",attrs:{name:"contact-ws",label:"Contáctanos"}})],1)],1),s("q-page-container",[s("div",[s("q-tab-panels",{attrs:{animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("q-tab-panel",{staticClass:"bg-azul-tenue",attrs:{name:"personal-info"}},[s("q-card",{staticClass:"my-card card"},[s("q-item",[s("q-item-section",{staticClass:"padd-perfil"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col text-center"},[s("q-item-label",{staticClass:"title-personal-info"},[e._v("Información personal")])],1)])])],1),s("q-separator"),s("q-card-section",[s("q-item",[s("q-item-section",[s("div",{staticClass:"row q-pt-md"},[s("div",{staticClass:"col-12 col-md q-px-md"},[s("q-input",{staticClass:"font-input",attrs:{label:"Nombre(s) y Apellido(s)*"},model:{value:e.profile.first_name,callback:function(t){e.$set(e.profile,"first_name",t)},expression:"profile.first_name"}})],1),s("div",{staticClass:"col-12 col-md q-px-md"},[s("q-input",{staticClass:"font-input",attrs:{label:"Correo Electrónico*"},model:{value:e.profile.email,callback:function(t){e.$set(e.profile,"email",t)},expression:"profile.email"}})],1)]),s("div",{staticClass:"row q-pt-md"},[s("div",{staticClass:"col-12 col-md q-px-md"},[s("q-input",{staticClass:"font-input",attrs:{label:"Teléfono móvil*"},model:{value:e.profile.phone,callback:function(t){e.$set(e.profile,"phone",t)},expression:"profile.phone"}})],1),s("div",{staticClass:"col-12 col-md q-px-md"},[s("q-input",{staticClass:"font-input",attrs:{label:"Contraseña",type:"password"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1)])])],1)],1),s("q-card-actions",{attrs:{vertical:"",align:"center"}},[s("q-btn",{staticClass:"btn-register q-mb-md",attrs:{label:"Guardar cambios",color:"bluesito",size:"md"},on:{click:e.saveProfile}})],1)],1)],1),s("q-tab-panel",{staticClass:"bg-azul-tenue",attrs:{name:"order-status"}},[s("q-card",{staticClass:"my-card q-px-md"},[s("q-item",[s("q-item-section",{staticClass:"padd-perfil"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col text-center"},[s("q-item-label",{staticClass:"title-addresses"},[e._v("Estatus de Ordenes")])],1)])])],1),s("q-separator"),s("q-card-section",[s("div",{staticClass:"q-pa-md"},[s("q-tabs",{staticClass:"q-mb-lg",attrs:{align:"justify","narrow-indicator":""},model:{value:e.tab_purchases,callback:function(t){e.tab_purchases=t},expression:"tab_purchases"}},[s("q-tab",{staticClass:"text-red font-tab-table",attrs:{name:"validate",label:"Por validar"}},[e.toValidate.length>0?s("div",[s("q-badge",{staticClass:"q-mb-xl",attrs:{rounded:"",color:"red",label:e.toValidate.length,floating:""}})],1):e._e()]),s("q-tab",{staticClass:"text-indigo-10 font-tab-table",attrs:{name:"deliver",label:"Por entregar"}},[e.toDeliver.length>0?s("div",[s("q-badge",{attrs:{rounded:"",color:"indigo-10",label:e.toDeliver.length,floating:""}})],1):e._e()]),s("q-tab",{staticClass:"text-green font-tab-table",attrs:{name:"processed",label:"Procesado"}})],1),s("div",{staticClass:"q-gutter-y-sm"},[s("q-tab-panels",{staticClass:"text-center",attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-down","keep-alive":""},model:{value:e.tab_purchases,callback:function(t){e.tab_purchases=t},expression:"tab_purchases"}},[s("q-tab-panel",{attrs:{name:"validate"}},[s("q-table",{staticClass:"font-body-table",attrs:{title:"Por Validar",data:e.toValidate,columns:e.columns1,"row-key":"id",loading:!e.isValidateFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[s("q-tr",{attrs:{props:t}},e._l(t.cols,(function(a){return s("q-th",{key:a.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                                              "+e._s(a.label)+"\n                                          ")])})),1)]}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(a){return s("q-td",{key:a.name,attrs:{props:t}},[e._v("\n                                              "+e._s(a.value)+"\n                                          ")])})),1),s("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[s("q-td",{attrs:{colspan:"100%"}},[s("div",{staticClass:"column items-end"},[s("div",{staticClass:"row"},[s("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",round:"",color:"red-10",icon:"delete"},on:{click:function(a){return e.confirmDelete(t.row)}}}),s("q-btn",{staticClass:"q-mr-xs q-pa-xs float-right",attrs:{color:"indigo-10",label:"Validar"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR ENTREGAR")}}})],1)])])],1)]}}])})],1),s("q-tab-panel",{attrs:{name:"deliver"}},[s("q-table",{staticClass:"font-body-table",attrs:{title:"Por Entregar",data:e.toDeliver,columns:e.columns2,"row-key":"id",loading:!e.isDeliverFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[s("q-tr",{attrs:{props:t}},e._l(t.cols,(function(a){return s("q-th",{key:a.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                                                  "+e._s(a.label)+"\n                                              ")])})),1)]}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(a){return s("q-td",{key:a.name,attrs:{props:t}},[e._v("\n                                                  "+e._s(a.value)+"\n                                              ")])})),1),s("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[s("q-td",{attrs:{colspan:"100%"}},[s("div",{staticClass:"column items-end"},[s("div",{staticClass:"row"},[s("q-btn",{staticClass:"q-mr-xs q-pa-xs float-right",attrs:{color:"indigo-10",label:"Regresar"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR VALIDAR")}}}),s("q-btn",{staticClass:"float-right",attrs:{color:"green",label:"Procesar"},on:{click:function(a){return e.changeSaleStatus(t.row,"PROCESADA")}}})],1)])])],1)]}}])})],1),s("q-tab-panel",{attrs:{name:"processed"}},[s("q-table",{staticClass:"font-body-table",attrs:{title:"Procesado",data:e.processed,columns:e.columns3,"row-key":"id",loading:!e.isProcessedFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[s("q-tr",{attrs:{props:t}},e._l(t.cols,(function(a){return s("q-th",{key:a.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                                                  "+e._s(a.label)+"\n                                              ")])})),1)]}},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(a){return s("q-td",{key:a.name,attrs:{props:t}},[e._v("\n                                                  "+e._s(a.value)+"\n                                              ")])})),1),s("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[s("q-td",{attrs:{colspan:"100%"}},[s("div",{staticClass:"column items-end"},[s("div",{staticClass:"row"},[s("q-btn",{staticClass:"float-right",attrs:{color:"indigo-10",label:"REGRESAR"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR ENTREGAR")}}})],1)])])],1)]}}])})],1)],1)],1)],1)])],1)],1),s("q-tab-panel",{staticClass:"bg-azul-tenue",attrs:{name:"contact-ws"}},[s("q-card",{staticClass:"my-card"},[s("q-item",[s("q-item-section",{staticClass:"padd-perfil"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col text-center"},[s("q-item-label",{staticClass:"title-addresses"},[e._v("Contáctanos")])],1)])])],1),s("q-separator"),s("q-item",{staticClass:"q-pt-md"},[s("q-item-section",[s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col-12"},[s("q-item-label",{staticClass:"label-contact-ws text-center text-grey q-pa-md"},[e._v("\n                                  Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sed tempora ipsam odio consequuntur facilis?.Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sed tempora ipsam odio consequuntur facilis?\n                                ")])],1),s("div",{staticClass:"col-12 col-md q-pa-md text-center"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col-12 col-md q-pa-md"},[s("div",{staticClass:"column img-ws-contact"},[s("div",{staticClass:"img-ws q-pt-md"},[s("q-img",{attrs:{src:a("0d46")}})],1)])]),s("div",{staticClass:"col q-pt-md q-mx-md"},[s("div",{staticClass:"column btn-ws-contact q-pa-md"},[s("q-btn",{staticClass:"btn",attrs:{label:"Iniciar chat","text-color":"white",color:"green",size:"md"}})],1)])])])])])],1)],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:e.PurchaseEdit,callback:function(t){e.PurchaseEdit=t},expression:"PurchaseEdit"}},[s("q-card",{staticClass:"my-card",staticStyle:{"max-width":"100%",width:"440px"}},[s("q-toolbar",{staticClass:"text-bluesito"},[s("q-toolbar-title",{staticClass:"title-session"},[e._v("\n                  Agregar Referencia de Pago \n              ")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close",round:""}})],1),s("q-separator"),s("q-item",{staticClass:"q-pt-md"},[s("q-item-section",[s("div",{staticClass:"row q-pt-md"},[s("div",{staticClass:"col-12 col-md q-px-md"},[s("q-input",{staticClass:"font-input",attrs:{label:"Numero de Referencia"},model:{value:e.referencecode,callback:function(t){e.referencecode=t},expression:"referencecode"}})],1)])])],1),s("q-card-actions",{attrs:{vertical:"",align:"center"}},[s("q-btn",{staticClass:"btn-init-session q-mb-md",attrs:{label:"Guardar",color:"bluesito",size:"sm"},on:{click:function(t){return e.updatePurchase()}}})],1),s("q-separator")],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:e.ShowMsg,callback:function(t){e.ShowMsg=t},expression:"ShowMsg"}},[s("q-card",{staticClass:"my-card",staticStyle:{"max-width":"100%",width:"440px"}},[s("q-toolbar",{staticClass:"text-bluesito"},[s("q-toolbar-title",{staticClass:"title-session"},[e._v("\n                      Tipo de Pago en efectivo \n                  ")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close",round:""}})],1),s("q-separator"),s("div",{staticClass:"container text-center q-pa-md"},[s("q-item-label",{staticClass:"label-register"},[e._v("Seleccione pagar en efectivo, Confirmar tu pedido, te contactaremos.")])],1),s("q-card-actions",{attrs:{vertical:"",align:"center"}},[s("q-btn",{staticClass:"btn-init-session q-mb-md",attrs:{label:"Guardar",color:"bluesito",size:"sm"},on:{click:function(t){return e.CloseMsg()}}})],1),s("q-separator")],1)],1)],1)])],1)],1),s("footer-component")],1)},r=[],l=a("e4fd"),i=a("5cff"),o=a("e741"),n=a("1d41"),c=a("f508"),d=Object(l["defineComponent"])({components:{FooterComponent:o["a"]},data(){return{profile:{first_name:"",email:"",phone:""},newPassword:"",tab:"personal-info",tab_purchases:"validate",text:"",PurchaseEdit:!1,ShowMsg:!1,PurchaseId:"",referencecode:"",splitterModel:20,model:null,options:["Puerto Ordaz","San Felix"],drawer:!1,isValidateFetched:!1,isDeliverFetched:!1,isProcessedFetched:!1,toValidate:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],toDeliver:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],processed:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],columns1:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}],columns2:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}],columns3:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}]}},mounted(){const e=this;e.onRequest()},created(){this.getUser()},methods:{saveProfile(){console.log(this.profile),console.log(this.newPassword);let e=this.profile;e.password=this.newPassword,""!=this.profile.first_name&&""!=this.profile.email&&""!=this.profile.email&&""!=this.newPassword?(this.newPassword.length<8&&this.showNotif("La contraseña debe ser mayor o igual a 8 caracteres","red-10"),n["a"].editProfile(e).subscribe({next:e=>{console.log(e),c["a"].hide(),this.showNotif("Usuario Actualizado","green-5")},complete:()=>{},error:e=>{console.log(e),c["a"].hide(),this.showNotif("Error actualizando usuario, por favor intente mas tarde","red-10")}})):this.showNotif("No puede dejar campos vacios","red-10")},getUser(){n["a"].getUserMe().subscribe({next:e=>{console.log(e),this.profile=e},complete:()=>{},error:e=>{console.log(e)}})},onRequest(){this.toValidate.pop(),this.toDeliver.pop(),this.processed.pop(),i["a"].getSalesByStatus(1).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.reference=e[t].reference,this.toValidate.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{console.log("[completed]"),this.isValidateFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))}})},GoDetail(e,t){this.$router.push({path:`/purchases/detail/${e.id}/`})},showNotif(e,t){this.$q.notify({message:e,color:t,actions:[{label:"Ok",color:"white",handler:()=>{}}]})}},watch:{tab_purchases:function(){"deliver"!==this.tab_purchases||this.isDeliverFetched?"processed"!==this.tab_purchases||this.isProcessedFetched||(console.log("current tab: "+this.tab+"\nwas it fetched?: "+this.isProcessedFetched),i["a"].getSalesByStatus(3).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.processed.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{this.isProcessedFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))}})):(console.log("current tab: "+this.tab+"\nwas it fetched?: "+this.isDeliverFetched),i["a"].getSalesByStatus(2).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.toDeliver.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{this.isDeliverFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))},error:()=>{alert("vacia")}}))}}}),b=d,u=(a("9d17"),a("2877")),m=a("9989"),p=a("4d5a"),f=a("e359"),h=a("ead5"),g=a("079e"),q=a("65c6"),C=a("9c40"),v=a("9404"),w=a("429b"),y=a("7460"),x=a("09e3"),k=a("adad"),_=a("823b"),P=a("f09f"),S=a("66e5"),Q=a("4074"),N=a("0170"),D=a("eb85"),O=a("cb32"),F=a("a370"),R=a("27f9"),$=a("4b7e"),E=a("ddd8"),T=a("58a81"),A=a("eaac"),M=a("bd08"),V=a("357e"),z=a("db86"),J=a("068f"),B=a("2bb1"),G=a("24e8"),I=a("6ac5"),j=a("7f67"),L=a("eebe"),U=a.n(L),H=Object(u["a"])(b,s,r,!1,null,null,null);t["default"]=H.exports;U()(H,"components",{QPage:m["a"],QLayout:p["a"],QHeader:f["a"],QBreadcrumbs:h["a"],QBreadcrumbsEl:g["a"],QToolbar:q["a"],QBtn:C["a"],QDrawer:v["a"],QTabs:w["a"],QTab:y["a"],QPageContainer:x["a"],QTabPanels:k["a"],QTabPanel:_["a"],QCard:P["a"],QItem:S["a"],QItemSection:Q["a"],QItemLabel:N["a"],QSeparator:D["a"],QAvatar:O["a"],QCardSection:F["a"],QInput:R["a"],QCardActions:$["a"],QSelect:E["a"],QBadge:T["a"],QTable:A["a"],QTr:M["a"],QTh:V["a"],QTd:z["a"],QImg:J["a"],QMarkupTable:B["a"],QDialog:G["a"],QToolbarTitle:I["a"]}),U()(H,"directives",{ClosePopup:j["a"]})},"9d17":function(e,t,a){"use strict";a("1b3d")}}]);