(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1b3d":function(e,t,a){},"526f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-layout",{staticClass:"rounded-borders",staticStyle:{"min-height":"550px"},attrs:{view:"hHh Lpr lff",container:""}},[a("q-header",{staticClass:"bg-white"},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu",color:"bluesito"},on:{click:function(t){e.drawer=!e.drawer}}})],1)],1),a("q-drawer",{attrs:{"show-if-above":"",width:200,breakpoint:500,bordered:"","content-class":"bg-white"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("q-tabs",{staticClass:"text-tabs",attrs:{vertical:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"container"},[a("q-tab",{staticClass:"font-tabs-item",attrs:{name:"personal-info",label:"Información personal"}})],1)])]),a("q-tab",{staticClass:"font-tabs-item",attrs:{name:"order-status",label:"Estatus de Ordenes"}})],1)],1),a("q-page-container",[a("div",[a("q-tab-panels",{attrs:{animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"personal-info"}},[a("q-card",{staticClass:"my-card card"},[a("q-item",[a("q-item-section",{staticClass:"padd-perfil"},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col text-center"},[a("q-item-label",{staticClass:"title-personal-info"},[e._v("Información personal")])],1)])])],1),a("q-separator"),a("q-item",{staticClass:"q-pt-md"},[a("q-item-section",{staticClass:"q-px-lg",attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"84px"}},[a("img",{attrs:{src:"https://cdn.quasar.dev/img/avatar4.jpg"}})])],1),a("q-item-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("q-btn",{staticClass:"btn-photo",attrs:{label:"Cargar foto"}})],1)]),a("q-item-label",{staticClass:"label-photo",attrs:{caption:""}},[e._v("\n                        Lorem ipsum dolor sit amet, consetetur\n                    ")])],1)],1),a("q-card-section",[a("q-item",[a("q-item-section",[a("div",{staticClass:"row q-pt-md"},[a("div",{staticClass:"col-12 col-md q-px-md"},[a("q-input",{staticClass:"font-input",attrs:{label:"Nombre(s) y Apellido(s)*"}})],1),a("div",{staticClass:"col-12 col-md q-px-md"},[a("q-input",{staticClass:"font-input",attrs:{label:"Correo Electrónico*"}})],1)]),a("div",{staticClass:"row q-pt-md"},[a("div",{staticClass:"col-12 col-md q-px-md"},[a("q-input",{staticClass:"font-input",attrs:{label:"Teléfono móvil*"}})],1),a("div",{staticClass:"col-12 col-md q-px-md"},[a("q-input",{staticClass:"font-input",attrs:{label:"Teléfono casa (opcional)"}})],1)])])],1)],1),a("q-card-actions",{attrs:{vertical:"",align:"center"}},[a("q-btn",{staticClass:"btn-register q-mb-md",attrs:{label:"Guardar cambios",color:"bluesito",size:"md"}})],1)],1)],1),a("q-tab-panel",{attrs:{name:"order-status"}},[a("q-card",{staticClass:"my-card q-px-md"},[a("q-item",[a("q-item-section",{staticClass:"padd-perfil"},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col text-center"},[a("q-item-label",{staticClass:"title-addresses"},[e._v("Estatus de Ordenes")])],1)])])],1),a("q-separator"),a("q-card-section",[a("div",{staticClass:"q-pa-md"},[a("q-tabs",{staticClass:"q-mb-lg",attrs:{align:"justify","narrow-indicator":""},model:{value:e.tab_purchases,callback:function(t){e.tab_purchases=t},expression:"tab_purchases"}},[a("q-tab",{staticClass:"text-red font-tab-table",attrs:{name:"validate",label:"Por validar"}},[e.toValidate.length>0?a("div",[a("q-badge",{staticClass:"q-mb-xl",attrs:{rounded:"",color:"red",label:e.toValidate.length,floating:""}})],1):e._e()]),a("q-tab",{staticClass:"text-indigo-10 font-tab-table",attrs:{name:"deliver",label:"Por entregar"}},[e.toDeliver.length>0?a("div",[a("q-badge",{attrs:{rounded:"",color:"indigo-10",label:e.toDeliver.length,floating:""}})],1):e._e()]),a("q-tab",{staticClass:"text-green font-tab-table",attrs:{name:"processed",label:"Procesado"}})],1),a("div",{staticClass:"q-gutter-y-sm"},[a("q-tab-panels",{staticClass:"text-center",attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-down","keep-alive":""},model:{value:e.tab_purchases,callback:function(t){e.tab_purchases=t},expression:"tab_purchases"}},[a("q-tab-panel",{attrs:{name:"validate"}},[a("q-table",{staticClass:"font-body-table",attrs:{title:"Por Validar",data:e.toValidate,columns:e.columns1,"row-key":"id",loading:!e.isValidateFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols,(function(s){return a("q-th",{key:s.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                                              "+e._s(s.label)+"\n                                          ")])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n                                              "+e._s(s.value)+"\n                                          ")])})),1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"column items-end"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",round:"",color:"red-10",icon:"delete"},on:{click:function(a){return e.confirmDelete(t.row)}}}),a("q-btn",{staticClass:"q-mr-xs q-pa-xs float-right",attrs:{color:"indigo-10",label:"Validar"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR ENTREGAR")}}})],1)])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"deliver"}},[a("q-table",{staticClass:"font-body-table",attrs:{title:"Por Entregar",data:e.toDeliver,columns:e.columns2,"row-key":"id",loading:!e.isDeliverFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols,(function(s){return a("q-th",{key:s.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                                                  "+e._s(s.label)+"\n                                              ")])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n                                                  "+e._s(s.value)+"\n                                              ")])})),1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"column items-end"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mr-xs q-pa-xs float-right",attrs:{color:"indigo-10",label:"Regresar"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR VALIDAR")}}}),a("q-btn",{staticClass:"float-right",attrs:{color:"green",label:"Procesar"},on:{click:function(a){return e.changeSaleStatus(t.row,"PROCESADA")}}})],1)])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"processed"}},[a("q-table",{staticClass:"font-body-table",attrs:{title:"Procesado",data:e.processed,columns:e.columns3,"row-key":"id",loading:!e.isProcessedFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols,(function(s){return a("q-th",{key:s.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                                                  "+e._s(s.label)+"\n                                              ")])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n                                                  "+e._s(s.value)+"\n                                              ")])})),1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"column items-end"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"float-right",attrs:{color:"indigo-10",label:"REGRESAR"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR ENTREGAR")}}})],1)])])],1)]}}])})],1)],1)],1)],1)])],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.PurchaseEdit,callback:function(t){e.PurchaseEdit=t},expression:"PurchaseEdit"}},[a("q-card",{staticClass:"my-card",staticStyle:{"max-width":"100%",width:"440px"}},[a("q-toolbar",{staticClass:"text-bluesito"},[a("q-toolbar-title",{staticClass:"title-session"},[e._v("\n                  Agregar Referencia de Pago \n              ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close",round:""}})],1),a("q-separator"),a("q-item",{staticClass:"q-pt-md"},[a("q-item-section",[a("div",{staticClass:"row q-pt-md"},[a("div",{staticClass:"col-12 col-md q-px-md"},[a("q-input",{staticClass:"font-input",attrs:{label:"Numero de Referencia"},model:{value:e.referencecode,callback:function(t){e.referencecode=t},expression:"referencecode"}})],1)])])],1),a("q-card-actions",{attrs:{vertical:"",align:"center"}},[a("q-btn",{staticClass:"btn-init-session q-mb-md",attrs:{label:"Guardar",color:"bluesito",size:"sm"},on:{click:function(t){return e.updatePurchase()}}})],1),a("q-separator")],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.ShowMsg,callback:function(t){e.ShowMsg=t},expression:"ShowMsg"}},[a("q-card",{staticClass:"my-card",staticStyle:{"max-width":"100%",width:"440px"}},[a("q-toolbar",{staticClass:"text-bluesito"},[a("q-toolbar-title",{staticClass:"title-session"},[e._v("\n                      Tipo de Pago en efectivo \n                  ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close",round:""}})],1),a("q-separator"),a("div",{staticClass:"container text-center q-pa-md"},[a("q-item-label",{staticClass:"label-register"},[e._v("Seleccione pagar en efectivo, Confirmar tu pedido, te contactaremos.")])],1),a("q-card-actions",{attrs:{vertical:"",align:"center"}},[a("q-btn",{staticClass:"btn-init-session q-mb-md",attrs:{label:"Guardar",color:"bluesito",size:"sm"},on:{click:function(t){return e.CloseMsg()}}})],1),a("q-separator")],1)],1)],1)])],1),a("footer-component")],1)},r=[],n=a("e4fd"),l=a("5cff"),o=a("e741"),i=Object(n["defineComponent"])({components:{FooterComponent:o["a"]},data(){return{tab:"personal-info",tab_purchases:"validate",text:"",PurchaseEdit:!1,ShowMsg:!1,PurchaseId:"",referencecode:"",splitterModel:20,model:null,options:["Puerto Ordaz","San Felix"],drawer:!1,isValidateFetched:!1,isDeliverFetched:!1,isProcessedFetched:!1,toValidate:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],toDeliver:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],processed:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],columns1:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}],columns2:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}],columns3:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}]}},mounted(){const e=this;e.onRequest()},methods:{onRequest(){this.toValidate.pop(),this.toDeliver.pop(),this.processed.pop(),l["a"].getSalesByStatus(1).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.reference=e[t].reference,this.toValidate.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{console.log("[completed]"),this.isValidateFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))}})},GoDetail(e,t){this.$router.push({path:`/purchases/detail/${e.id}/`})},showNotif(e,t){this.$q.notify({message:e,color:t,actions:[{label:"Ok",color:"white",handler:()=>{}}]})}},watch:{tab_purchases:function(){"deliver"!==this.tab_purchases||this.isDeliverFetched?"processed"!==this.tab_purchases||this.isProcessedFetched||(console.log("current tab: "+this.tab+"\nwas it fetched?: "+this.isProcessedFetched),l["a"].getSalesByStatus(3).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.processed.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{this.isProcessedFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))}})):(console.log("current tab: "+this.tab+"\nwas it fetched?: "+this.isDeliverFetched),l["a"].getSalesByStatus(2).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.toDeliver.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{this.isDeliverFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))},error:()=>{alert("vacia")}}))}}}),c=i,d=(a("9d17"),a("2877")),b=a("9989"),u=a("4d5a"),m=a("e359"),p=a("65c6"),f=a("9c40"),h=a("9404"),g=a("429b"),q=a("7460"),C=a("09e3"),v=a("adad"),y=a("823b"),w=a("f09f"),k=a("66e5"),_=a("4074"),x=a("0170"),S=a("eb85"),P=a("cb32"),Q=a("a370"),N=a("27f9"),D=a("4b7e"),O=a("ddd8"),F=a("58a81"),R=a("eaac"),T=a("bd08"),E=a("357e"),$=a("db86"),V=a("2bb1"),A=a("24e8"),M=a("6ac5"),J=a("7f67"),G=a("eebe"),j=a.n(G),B=Object(d["a"])(c,s,r,!1,null,null,null);t["default"]=B.exports;j()(B,"components",{QPage:b["a"],QLayout:u["a"],QHeader:m["a"],QToolbar:p["a"],QBtn:f["a"],QDrawer:h["a"],QTabs:g["a"],QTab:q["a"],QPageContainer:C["a"],QTabPanels:v["a"],QTabPanel:y["a"],QCard:w["a"],QItem:k["a"],QItemSection:_["a"],QItemLabel:x["a"],QSeparator:S["a"],QAvatar:P["a"],QCardSection:Q["a"],QInput:N["a"],QCardActions:D["a"],QSelect:O["a"],QBadge:F["a"],QTable:R["a"],QTr:T["a"],QTh:E["a"],QTd:$["a"],QMarkupTable:V["a"],QDialog:A["a"],QToolbarTitle:M["a"]}),j()(B,"directives",{ClosePopup:J["a"]})},"9d17":function(e,t,a){"use strict";a("1b3d")}}]);