(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{4045:function(t,e,s){},"6eb0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"container-products q-pt-md"},[s("q-breadcrumbs",{staticClass:"q-px-md text-grey breadcrumbs-products-list q-pt-md",attrs:{gutter:"sm","active-color":"grey"}},[s("q-breadcrumbs-el",{attrs:{icon:"home",to:"/"}}),s("q-breadcrumbs-el",{staticClass:"texto-breadcrumbs text-bluesito",attrs:{label:"Todos los productos"}})],1),s("div",{staticClass:"container-products2"},[s("q-layout",{staticClass:"rounded-borders",staticStyle:{"min-height":"3840px"},attrs:{view:"hHh Lpr lff",container:""}},[s("q-header",{staticClass:"bg-azul-tenue"},[s("q-toolbar",{staticClass:"toolbar-drawer"},[s("q-btn",{staticClass:"lt-md",attrs:{flat:"",round:"",dense:"",icon:"menu",color:"bluesito"},on:{click:function(e){t.drawer=!t.drawer}}}),s("div",[s("div",{staticClass:"text-h7 q-mr-sm texto-filter"},[t._v("Ordenar por:")])]),s("div",{staticClass:"q-pr-md"},[s("q-select",{staticClass:"texto-filter",attrs:{borderless:"","transition-show":"scale","transition-hide":"scale",options:t.optionsFilter,"option-label":"label",behavior:"menu","option-value":"value","map-options":""},on:{input:function(e){return t.optionsOrder()}},model:{value:t.orderBy,callback:function(e){t.orderBy=e},expression:"orderBy"}})],1)],1)],1),s("q-drawer",{attrs:{"show-if-above":"",width:200,breakpoint:500,bordered:"","content-class":"bg-white"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("q-scroll-area",{staticClass:"fit"},[s("q-list",[s("q-item-label",{staticClass:"font-category-splitter q-pa-md"},[t._v("CATEGORÍAS")]),t._l(t.categories,(function(e){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"font-title-splitter",attrs:{clickable:"",active:e.id===t.idCategorie,"active-class":"my-menu-link"},on:{click:function(s){return t.getId(e.id)}}},[s("q-item-section",[t._v(t._s(e.name))])],1)}))],2)],1)],1),s("q-page-container",[s("div",{staticClass:"prueba"},[t.load?s("div",{staticClass:"row"},t._l(9,(function(t){return s("div",{key:t.id,staticClass:"col-12 col-md-4 q-gutter-sm q-pa-md"},[s("q-card",{staticClass:"q-pt-md skeleton-card-all-products"},[s("q-card-section",{staticClass:"q-gutter-md",attrs:{align:"center"}},[s("q-skeleton",{attrs:{type:"circle",size:"130px",bordered:""}})],1),s("q-card-section",[s("q-item-section",{staticClass:"q-mx-md q-py-sm"},[s("q-item-label",[s("q-skeleton",{attrs:{type:"text"}})],1),s("q-item-label",{attrs:{caption:""}},[s("q-skeleton",{attrs:{type:"text"}})],1)],1)],1),s("q-card-section",[s("q-item-section",{staticClass:"q-mx-md"},[s("q-item-label",[s("q-skeleton",{staticClass:"q-px-md q-mb-sm",attrs:{type:"text"}})],1)],1)],1),s("q-card-actions",{attrs:{align:"center"}},[s("q-skeleton",{staticClass:"q-mb-sm",attrs:{type:"QBtn",bordered:""}})],1)],1)],1)})),0):s("div",{staticClass:"row justify-center q-mb-md"},[s("div",{staticClass:"col justify-center text-center"},[s("div",{staticClass:"row"},t._l(t.products,(function(e){return s("div",{key:e.id,staticClass:"col-12 col-md-4 q-pa-md q-gutter-sm cursor-pointer"},[s("q-card",{staticClass:"my-card card2 q-pa-md"},[s("q-card-section",{staticClass:"text-center q-pt-none",on:{click:function(s){return t.$router.push({path:"/products/detail/"+e.id+"/"})}}},[s("q-img",{staticClass:"img-product2",staticStyle:{"max-width":"110px",height:"110px"},attrs:{src:e.image}})],1),s("q-card-section",{staticClass:"text-center hc",on:{click:function(s){return t.$router.push({path:"/products/detail/"+e.id+"/"})}}},[s("div",{staticClass:"text-name-product-list"},[s("q-item-label",{attrs:{lines:"2"}},[t._v("\n                        "+t._s(e.name)+" \n                      ")])],1),s("div",{staticClass:"text-brand-product-list"},[s("q-item-label",{attrs:{lines:"2"}},[t._v("\n                         "+t._s(e.brand.name)+"\n                      ")])],1)]),s("q-card-section",{staticClass:"text-center q-pt-none"},[s("div",{staticClass:"text-price-product-list"},[t._v("\n                      "+t._s(e.coin)+" "+t._s(e.price)+"\n                    ")])]),e.quantity<1?s("q-card-section",{staticClass:"text-center q-pt-none"},[s("div",{staticClass:"text-quantity-products-none"},[t._v("\n                       No Disponible\n                    ")])]):t._e(),e.quantity>0?s("q-card-section",{staticClass:"text-center q-pt-none"},[s("div",{staticClass:"row items-center justify-around"},[s("div",{staticClass:"col-lg-5 q-px-sm"},[s("div",{staticClass:"row items-center justify-center"},[s("q-card",{attrs:{flat:"",bordered:""}},[s("div",{staticClass:"col-8 q-px-md q-py-sm quantity-product-feature"},[t._v("\n                                                      "+t._s(e.shopp)+"\n                                                  ")])]),s("div",{staticClass:"col-3"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col justify-center"},[s("q-btn",{staticClass:"btn-product",attrs:{flat:"",round:"",color:"indigo-10",icon:"add",size:"xs"},on:{click:function(s){return t.increaseProdQty(e.index)}}})],1)]),s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col justify-center"},[s("q-btn",{staticClass:"btn-product",attrs:{flat:"",round:"",color:"redsito",icon:"remove",size:"xs"},on:{click:function(s){return t.decreaseProdQty(e.index)}}})],1)])])],1)]),s("div",{staticClass:"col-lg-7"},[s("div",{staticClass:"row items-center justify-center"},[s("div",{staticClass:"col justify-center q-pt-xs"},[s("q-btn",{staticClass:"btn-product",attrs:{label:"Agregar",color:"blue","text-color":"white",icon:"shopping_cart",size:"sm"},on:{click:function(s){return s.stopPropagation(),t.Shoppingcart(e.id,e.shopp)}}})],1)])])])]):t._e()],1)],1)})),0)])]),s("div",{staticClass:"row justify-center q-mb-md"},[t.numberOfPages>1?s("q-pagination",{attrs:{min:t.currentPage,max:t.numberOfPages,"direction-links":!0,color:"black","boundary-numbers":!1},on:{click:function(e){return t.getPagination()}},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}):t._e()],1)])])],1)],1),s("footer-component")],1)},a=[],r=s("e4fd"),o=s("ed50"),n=s("1856"),c=s("e741"),l=s("f508"),d=s("5a9e"),p=s("bc78");const{getPaletteColor:u}=p["a"],h=[{icon:"inbox",label:"Inbox",separator:!0},{icon:"send",label:"Outbox",separator:!1},{icon:"delete",label:"Trash",separator:!1},{icon:"error",label:"Spam",separator:!0},{icon:"settings",label:"Settings",separator:!1},{icon:"feedback",label:"Send Feedback",separator:!1},{icon:"help",iconColor:"primary",label:"Help",separator:!0}];var g=Object(r["defineComponent"])({components:{FooterComponent:c["a"]},props:["idCategorie"],data(){return{splitterModel:30,current:3,load:!0,drawer:!1,menuList:h,products:[],incart:[],categories:[],search:"",page:1,currentPage:1,totalPages:1,limit:25,numberOfPages:0,count:0,orderBy:{label:"Categoría",value:2},optionsFilter:[{label:"Categoría",value:2},{label:"Nombre",value:1}],id:null,offset:0,pagination:{page:1,rowsPerPage:25,rowsNumber:0,currentPage:1},filtroPagination:1}},created(){this.getAllCategories(),this.idCategorie?this.getId(this.idCategorie):this.optionsOrder()},methods:{getAllCategories(){n["a"].getListCategories().subscribe({next:t=>{console.log(t),this.categories=t},error:t=>{console.log(t)}})},getId(t){this.load=!0,this.idCategorie=t,this.filtroPagination=2,this.pagination.currentPage=this.pagination.page,this.offset=this.limit*(this.pagination.page-1),o["a"].getProductsCategorie(t,this.limit,this.offset).subscribe({next:t=>{let e=t.results;if(this.verifySession())d["a"].getListCart().subscribe({next:t=>{let s=t.results;for(let i=0;i<e.length;i++){let t=!1;e[i].shopp=0,e[i].index=i;for(let a=0;a<s.length;a++)null!=s[a].product&&0==t&&e[i].id==s[a].product.id&&(this.incart[i]=!0,e[i].shopp=s[a].quantity,t=!0),null!=s[a].product&&0==t&&e[i].id!=s[a].product.id&&(this.incart[i]=!1)}this.products=e},error:t=>{console.log(t.response.data)},complete:()=>{}});else{for(let t=0;t<e.length;t++)e[t].shopp=0,e[t].index=t;this.products=e}this.numberOfPages=Math.ceil(t.count/this.limit),this.load=!1},complete:()=>console.log("[complete]")})},optionsOrder(){this.load=!0,this.filtroPagination=1,this.pagination.currentPage=this.pagination.page,this.offset=this.limit*(this.pagination.page-1),o["a"].orderProducts(this.orderBy.value,this.limit,this.offset).subscribe({next:t=>{let e=t.results;if(this.verifySession())d["a"].getListCart().subscribe({next:t=>{let s=t.results;for(let i=0;i<e.length;i++){let t=!1;e[i].shopp=0,e[i].index=i;for(let a=0;a<s.length;a++)null!=s[a].product&&0==t&&e[i].id==s[a].product.id&&(this.incart[i]=!0,e[i].shopp=s[a].quantity,t=!0),null!=s[a].product&&0==t&&e[i].id!=s[a].product.id&&(this.incart[i]=!1)}this.products=e},error:t=>{console.log(t.response.data)},complete:()=>{}});else{for(let t=0;t<e.length;t++)e[t].shopp=0,e[t].index=t;this.products=e}this.numberOfPages=Math.ceil(t.count/this.limit),this.load=!1},complete:()=>console.log("[complete]")})},optionsOrder2(){this.load=!0,this.pagination.currentPage=this.pagination.page,this.offset=this.limit*(this.pagination.page-1),o["a"].getProviders(this.limit,this.offset).subscribe({next:t=>{let e=t.results;if(this.verifySession())d["a"].getListCart().subscribe({next:t=>{let s=t.results;for(let i=0;i<e.length;i++){let t=!1;e[i].shopp=0,e[i].index=i;for(let a=0;a<s.length;a++)null!=s[a].product&&0==t&&e[i].id==s[a].product.id&&(this.incart[i]=!0,e[i].shopp=s[a].quantity,t=!0),null!=s[a].product&&0==t&&e[i].id!=s[a].product.id&&(this.incart[i]=!1)}this.products=e},error:t=>{console.log(t.response.data)},complete:()=>{}});else{for(let t=0;t<e.length;t++)e[t].shopp=0,e[t].index=t;this.products=e}this.numberOfPages=Math.ceil(t.count/this.limit),console.log(this.numberOfPages),this.load=!1},complete:()=>console.log("[complete]")})},getPagination(){switch(this.filtroPagination){case 1:this.optionsOrder();break;case 2:this.getId(idCategorie);break}},verifySession(){let t=localStorage.getItem("token"),e=localStorage.getItem("username");return null!=t&&null!=e},Shoppingcart(t,e){if(1==this.verifySession()){if(0==e)return void this.showNotif("Debe agregar cantidad en producto","red-10");l["a"].show();const s={product:t,quantity:e};d["a"].saveShoppingCart(s).subscribe({next:t=>{l["a"].hide(),"200"==t.status?this.showNotif(t.data,"red-8"):this.showNotif(t.data,"blue-8")},complete:()=>{l["a"].hide()},error:()=>{l["a"].hide(),this.showNotif("Error al agregar producto","red-10")}})}else this.showNotif("Debe Iniciar Sesión","red-10"),this.showInitSession=!0},showNotif(t,e){this.$q.notify({message:t,color:e,avatar:"https://cdn.quasar.dev/img/boy-avatar.png",actions:[{label:"Ok",color:"white",handler:()=>{}}]})},increaseProdQty(t){this.products[t].shopp<this.products[t].quantity&&(this.products[t].shopp+=1)},decreaseProdQty(t){this.products[t].shopp>0&&(this.products[t].shopp-=1)}}}),m=g,b=(s("93f1"),s("2877")),f=s("9989"),q=s("ead5"),C=s("079e"),v=s("4d5a"),x=s("e359"),y=s("65c6"),w=s("9c40"),k=s("ddd8"),P=s("9404"),Q=s("4983"),S=s("1c1c"),_=s("0170"),O=s("66e5"),I=s("4074"),j=s("eb85"),N=s("09e3"),B=s("27f9"),L=s("f09f"),A=s("a370"),z=s("293e"),$=s("4b7e"),D=s("068f"),E=s("3b16"),F=s("b498"),M=s("714f"),T=s("eebe"),H=s.n(T),J=Object(b["a"])(m,i,a,!1,null,null,null);e["default"]=J.exports;H()(J,"components",{QPage:f["a"],QBreadcrumbs:q["a"],QBreadcrumbsEl:C["a"],QLayout:v["a"],QHeader:x["a"],QToolbar:y["a"],QBtn:w["a"],QSelect:k["a"],QDrawer:P["a"],QScrollArea:Q["a"],QList:S["a"],QItemLabel:_["a"],QItem:O["a"],QItemSection:I["a"],QSeparator:j["a"],QPageContainer:N["a"],QInput:B["a"],QCard:L["a"],QCardSection:A["a"],QSkeleton:z["a"],QCardActions:$["a"],QImg:D["a"],QPagination:E["a"],QColor:F["a"]}),H()(J,"directives",{Ripple:M["a"]})},"93f1":function(t,e,s){"use strict";s("4045")}}]);