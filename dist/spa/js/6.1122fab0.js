(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"562b":function(t,o,i){"use strict";i.r(o);var a=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("q-page",{staticClass:"container-detail-promotion q-pt-md"},[a("q-breadcrumbs",{staticClass:"q-px-md text-grey breadcrumbs-promotions",attrs:{gutter:"sm","active-color":"grey"}},[a("q-breadcrumbs-el",{attrs:{icon:"home",to:"/"}}),a("q-breadcrumbs-el",{staticClass:"texto-breadcrumbs",attrs:{label:"Todas las promociones",to:"/promotions"}}),a("q-breadcrumbs-el",{staticClass:"texto-breadcrumbs text-bluesito",attrs:{label:"Almacén"}})],1),a("div",{staticClass:"container-detail-promotion2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md q-gutter-sm fondo-img-detail-promotion"},[a("q-carousel",{attrs:{animated:"",swipeable:"",padding:"",thumbnails:"","transition-prev":"slide-right","transition-next":"slide-left"},model:{value:t.slide,callback:function(o){t.slide=o},expression:"slide"}},t._l(t.images,(function(t,o){return a("q-carousel-slide",{key:o+1,staticClass:"border-img-slide column flex-center no-margin",attrs:{name:o+1,"img-src":t}})})),1)],1),a("div",{staticClass:"col q-gutter-sm q-pa-md"},[a("div",{staticClass:"text-title-promotion"},[t._v(t._s(t.promotion.name)+" ")]),a("div",{staticClass:"text-ID-promotion q-mb-md"},[t._v("Categoría: "+t._s(t.promotion.category.name))]),a("q-separator",{staticClass:"mb-detail"}),a("div",{staticClass:"text-fventa-promotion"},[t._v("Costo:")]),a("div",{staticClass:"text-price_fventa-promotion mb-detail"},[t._v(t._s(t.promotion.coin)+"  "+t._s(t.promotion.price))]),t.promotion.quantity>0?a("div",{staticClass:"mb-detail"},[a("div",{staticClass:"text-detail-promotion"},[t._v("Cantidad Disponible :")]),a("div",{staticClass:"text-quantity"},[t._v(t._s(t.promotion.quantity))])]):t._e(),t.promotion.quantity<1?a("div",{staticClass:"mb-detail"},[a("div",{staticClass:"text-quantity-none-detail-promotion"},[t._v("NO Disponible")])]):t._e(),a("div",{staticClass:"text-quantity-promotion"},[t._v("cantidad :")]),t.promotion.quantity<1?a("div",{staticClass:"row mb-detail",attrs:{disabled:"true"}},[a("div",{staticClass:"col-6 col-sm-4"},[a("div",{staticClass:"border"},[a("span",{staticClass:"border"},[a("q-btn",{staticClass:"btn-promotion",attrs:{flat:"",round:"",color:"redsito",icon:"remove",size:"md"},on:{click:function(o){return t.decreaseProdQty()}}}),t._v("\n                  "+t._s(t.counter)+"\n                "),a("q-btn",{staticClass:"btn-promotion",attrs:{flat:"",round:"",color:"indigo-10",icon:"add",size:"md"},on:{click:function(o){return t.increaseProdQty()}}})],1)])]),a("div",{staticClass:"col-6 col-md"},[a("q-btn",{staticClass:"btn-promotion",attrs:{label:"Agregar",color:"red-10","text-color":"white",icon:"shopping_cart",size:"md"},on:{click:function(o){return t.ToShoppingcart()}}})],1)]):t._e(),t.promotion.quantity>0?a("div",{staticClass:"row mb-detail"},[a("div",{staticClass:"col-6 col-md"},[a("div",{staticClass:"border"},[a("span",{staticClass:"border"},[a("q-btn",{staticClass:"btn-promotion",attrs:{flat:"",round:"",color:"redsito",icon:"remove",size:"md"},on:{click:function(o){return t.decreaseProdQty()}}}),t._v("\n                  "+t._s(t.counter)+"\n                "),a("q-btn",{staticClass:"btn-promotion",attrs:{flat:"",round:"",color:"indigo-10",icon:"add",size:"md"},on:{click:function(o){return t.increaseProdQty()}}})],1)])]),a("div",{staticClass:"col-6 col-md"},[a("q-btn",{staticClass:"btn-promotion",attrs:{label:"Agregar",color:"red-10","text-color":"white",icon:"shopping_cart",size:"md"},on:{click:function(o){return t.ToShoppingcart()}}})],1)]):t._e(),a("div",{staticClass:"msj-nota-extra mb-detail"},[t._v(t._s(t.status_cart))]),a("div",{staticClass:"title-nota-extra"},[a("b",[t._v("Productos:")])]),a("q-list",{staticClass:"rounded-borders",attrs:{dense:""}},t._l(t.promotion.promotion_detail,(function(o){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o.product.id,attrs:{clickable:""}},[a("q-item-section",{staticClass:"title-nota-extra"},[t._v("\n             "+t._s(o.quantity)+" - "+t._s(o.product.name)+"\n            ")])],1)})),1)],1)])]),a("div",{staticClass:"container-description-promotion q-px-md q-pt-lg"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-title-promotion"},[t._v("Descripción de la promoción")]),a("div",{staticClass:"text-description q-pa-md text-justify"},[t._v(t._s(t.promotion.description))])])])]),a("featured-products-carousel-component"),a("footer-component"),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",color:"white"},on:{click:function(o){return t.goToWz()}}},[a("img",{staticStyle:{width:"25px"},attrs:{src:i("c60a")}})])],1)],1)},e=[],s=i("e4fd"),r=i("4cd5"),n=i("e741"),c=i("9410"),l=i("5a9e"),d=i("f508"),m=Object(s["defineComponent"])({components:{FeaturedProductsCarouselComponent:r["a"],FooterComponent:n["a"]},data(){return{counter:0,slide:1,images:[],status_cart:"",promotion:[{id:this.$route.params.id,name:"",description:"",coin:"",price:"",quantity:null,image:null,category:[{name:""}],promotion_detail:[]}]}},mounted(){this.getPromotionDetail(),this.refreshComponent()},methods:{verifySession(){let t=localStorage.getItem("token"),o=localStorage.getItem("username");return null!=t&&null!=o},getPromotionDetail(){c["a"].getPromotion(this.$route.params.id).subscribe({next:t=>{this.promotion=t;t.promotion_detail;let o=1;for(this.images[0]=this.promotion.image,o=0;o<+t.promotion_detail.length;o++)this.images[o+1]=t.promotion_detail[o].product.image;this.verifyShoppingcart()}})},ToShoppingcart(){if(1==this.verifySession()){if(this.counter<1)return void this.showNotif("Debe agregar una cantidad","red-10");if(this.counter>this.promotion.quantity)return void this.showNotif("La Cantidad Supera lo disponible de esta Promoción","red-10");d["a"].show();const t={promotion:this.promotion.id,quantity:this.counter};l["a"].savePromotionShoppingCart(t).subscribe({next:t=>{d["a"].hide(),"200"==t.status?this.showNotif(t.data,"red-8"):(this.showNotif(t.data,"blue-8"),this.verifyShoppingcart())},complete:()=>{d["a"].hide()},error:t=>{d["a"].hide(),this.showNotif(t,"red-10")}})}else this.showNotif("Inicia Sesión para agrerar a tu carrito de compra","red-10")},verifyShoppingcart(){l["a"].searchPromotionShoppingcart(this.$route.params.id).subscribe({next:t=>{this.counter=t.data,this.status_cart="Promoción está en su Carrito de Compra"},complete:()=>{}})},increaseProdQty(){this.counter<this.promotion.quantity&&this.counter++},decreaseProdQty(){this.counter>1&&this.counter--},showNotif(t,o){this.$q.notify({message:t,color:o,avatar:"https://cdn.quasar.dev/img/boy-avatar.png",actions:[{label:"Ok",color:"white",handler:()=>{}}]})},refreshComponent(){this.$watch((()=>this.$route.params.id),((t,o)=>{this.getPromotionDetail()}))},goToWz(){window.location.href="https://wa.me/584128770825?text=Hola%20buen%20dia."}}}),p=m,u=(i("a705"),i("2877")),b=i("9989"),h=i("ead5"),v=i("079e"),g=i("880c"),C=i("62cd"),f=i("eb85"),_=i("9c40"),q=i("1c1c"),y=i("66e5"),x=i("4074"),w=i("de5e"),S=i("714f"),P=i("eebe"),k=i.n(P),Q=Object(u["a"])(p,a,e,!1,null,null,null);o["default"]=Q.exports;k()(Q,"components",{QPage:b["a"],QBreadcrumbs:h["a"],QBreadcrumbsEl:v["a"],QCarousel:g["a"],QCarouselSlide:C["a"],QSeparator:f["a"],QBtn:_["a"],QList:q["a"],QItem:y["a"],QItemSection:x["a"],QPageSticky:w["a"]}),k()(Q,"directives",{Ripple:S["a"]})},"8a19":function(t,o,i){},a705:function(t,o,i){"use strict";i("8a19")}}]);