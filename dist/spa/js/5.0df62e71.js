(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"7d98":function(t,a,e){"use strict";e("9df9")},"9df9":function(t,a,e){},a665:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"container-detail-product q-pt-md"},[e("q-breadcrumbs",{staticClass:"q-px-md text-grey",attrs:{gutter:"sm","active-color":"grey"}},[e("q-breadcrumbs-el",{attrs:{icon:"home",to:"/"}}),e("q-breadcrumbs-el",{staticClass:"texto-breadcrumbs",attrs:{label:"Todos los productos",to:"/products"}}),e("q-breadcrumbs-el",{staticClass:"texto-breadcrumbs text-bluesito",attrs:{label:"Almacén"}})],1),e("div",{staticClass:"container-detail-product2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md q-gutter-sm q-pa-md"},[e("q-carousel",{attrs:{swipeable:"",animated:"",thumbnails:"",infinite:""},model:{value:t.slide,callback:function(a){t.slide=a},expression:"slide"}},t._l(this.getDataDetail.picture,(function(t,a){return e("q-carousel-slide",{key:a+1,staticClass:"border-img-slide",attrs:{"img-src":t.image,name:a+1}})})),1)],1),e("div",{staticClass:"col q-gutter-sm q-pa-md"},[e("div",{staticClass:"text-title-product"},[t._v(t._s(t.getDataDetail.name))]),e("div",{staticClass:"text-title-brand"},[t._v(t._s(t.getDataDetail.brand.name))]),e("div",{staticClass:"text-ID-product"},[t._v("ID Producto: "+t._s(t.getDataDetail.id))]),e("div",{staticClass:"text-detail-product"},[t._v("Detail:")]),e("div",{staticClass:"text-price-product"},[t._v(t._s(t.getDataDetail.price))]),e("div",{staticClass:"text-fventa-product"},[t._v("Mayor:")]),e("div",{staticClass:"text-price_fventa-product"},[t._v(t._s(t.getDataDetail.price))]),e("div",{staticClass:"text-quantity-product"},[t._v("Cantidad:")]),t.getDataDetail.quantity>0?e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 col-md"},[e("div",{staticClass:"border"},[e("span",{staticClass:"border"},[e("q-btn",{staticClass:"btn-product",attrs:{flat:"",round:"",color:"redsito",icon:"remove",size:"md"},on:{click:function(a){return t.decreaseProdQty()}}}),t._v("\n                            "+t._s(t.counter)+"\n                            "),e("q-btn",{staticClass:"btn-product",attrs:{flat:"",round:"",color:"indigo-10",icon:"add",size:"md"},on:{click:function(a){return t.increaseProdQty()}}})],1)])]),""==t.status_cart?e("div",{staticClass:"col-6 col-md"},[e("q-btn",{staticClass:"btn-product",attrs:{label:"AGREGAR",color:"red-10","text-color":"white",icon:"shopping_cart",size:"md"},on:{click:function(a){return t.Shoppingcart()}}})],1):t._e(),""!=t.status_cart?e("div",{staticClass:"col-6 col-md"},[e("q-btn",{staticClass:"btn-product",attrs:{label:"Actualizar",color:"red-10","text-color":"white",icon:"shopping_cart",size:"md"},on:{click:function(a){return t.Shoppingcart()}}})],1):t._e()]):t._e(),e("div",{staticClass:"text-msj-cart"},[e("b",[t._v(t._s(t.status_cart))])]),e("div",{staticClass:"title-nota-extra"},[e("b",[t._v("Descripción del producto:")])]),e("div",{staticClass:"text-nota-extra text-justify q-pr-md"},[t._v(t._s(t.getDataDetail.description))]),0==t.stock_full?e("div",{staticClass:"text-msj-stock"},[e("b",[t._v(t._s(t.msj_quantity))])]):t._e(),1==t.stock_full?e("div",{staticClass:"text-msj-stock-full"},[e("b",[t._v(t._s(t.msj_quantity))])]):t._e()])])]),e("featured-products-carousel-component"),e("footer-component")],1)},s=[],r=e("e4fd"),o=e("4cd5"),c=e("e741"),n=e("ed50");class l{constructor(t){this.id=t.id,this.name=t.name,this.description=t.description,this.coin=t.coin,this.price=t.price,this.quantity=t.quantity,this.image=t.image,this.category=t.category,this.brand=t.brand,this.detail_product=t.detail_product;let a=t.picture;if(this.picture=a.map((t=>new d(t))),this.image){let t={image:this.image};this.picture.push(new d(t))}}}class d{constructor(t){this.image=t.image}}var u=e("5a9e"),h=e("f508"),p=Object(r["defineComponent"])({components:{FeaturedProductsCarouselComponent:o["a"],FooterComponent:c["a"]},data(){return{counter:0,status_cart:"",stock_full:!1,slide:1,msj_quantity:"",showInitSession:!1,getDataDetail:[{id:this.$route.params.id,name:"",description:"",coin:"",price:"",quantitity:null,image:"",category:[{name:""}],brand:[{name:""}]}]}},mounted(){this.getProductDetail(),this.verifyShoppingcart(),this.refreshComponent()},methods:{increaseProdQty(){this.counter<=this.getDataDetail.quantity&&this.counter++},decreaseProdQty(){this.counter>1&&this.counter--},getProductDetail(){n["a"].getProductDetail(this.$route.params.id).subscribe({next:t=>{this.getDataDetail=new l(t),this.getDataDetail.quantity<=5&&this.getDataDetail.quantity>1?this.msj_quantity="Solo Quedan "+this.getDataDetail.quantity+" Disponibles":1==this.getDataDetail.quantity?this.msj_quantity="Solo Queda "+this.getDataDetail.quantity+" Disponible":this.getDataDetail.quantity<1?this.msj_quantity="Producto NO Disponible":(this.msj_quantity=this.getDataDetail.quantity+" Disponibles",this.stock_full=!0)}})},refreshComponent(){this.$watch((()=>this.$route.params.id),((t,a)=>{this.getProductDetail()}))},verifySession(){let t=localStorage.getItem("token"),a=localStorage.getItem("username");return null!=t&&null!=a},verifyShoppingcart(){u["a"].searchShoppingcart(this.$route.params.id).subscribe({next:t=>{this.counter=t,this.status_cart="Este producto se encuentra en su Carrito de Compra"},complete:()=>{},error:t=>{this.counter=0}})},Shoppingcart(){if(1==this.verifySession()){if(0==this.counter)return void this.showNotif("Debe agregar cantidad en producto","red-10");if(this.counter>this.getDataDetail.quantity)return void this.showNotif("La Cantidad Supera al stock de este Producto","red-10");h["a"].show();const t={product:this.getDataDetail.id,quantity:this.counter};u["a"].saveShoppingCart(t).subscribe({next:t=>{h["a"].hide(),"200"==t.status?(this.showNotif(t.data,"red-8"),this.getProductDetail()):(this.showNotif(t.data,"blue-8"),this.verifyShoppingcart())},complete:()=>{h["a"].hide()},error:()=>{h["a"].hide(),this.showNotif("Error al agregar producto","red-10")}})}else this.showNotif("Debe Iniciar Sesion","red-10"),this.showInitSession=!0},showNotif(t,a){this.$q.notify({message:t,color:a,avatar:"https://cdn.quasar.dev/img/boy-avatar.png",actions:[{label:"Ok",color:"white",handler:()=>{}}]})}}}),m=p,g=(e("7d98"),e("2877")),b=e("9989"),v=e("ead5"),D=e("079e"),_=e("880c"),f=e("62cd"),C=e("9c40"),q=e("eebe"),y=e.n(q),x=Object(g["a"])(m,i,s,!1,null,null,null);a["default"]=x.exports;y()(x,"components",{QPage:b["a"],QBreadcrumbs:v["a"],QBreadcrumbsEl:D["a"],QCarousel:_["a"],QCarouselSlide:f["a"],QBtn:C["a"]})}}]);