(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"0f6d":function(e,t,a){"use strict";a("e8fe")},d6e6:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("example-component",{attrs:{title:"Purchase Order component"}}),a("purchase-order-component")],1)},n=[],r=a("e4fd"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"container-purschases-order"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-xs-12 q-pa-sm"},[a("div",{staticClass:"container text-center q-pa-md"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-12 col-md text-center"},[a("q-card",{staticClass:"q-pa-md"},[a("q-card-header",{staticClass:"text-center"},[a("div",{staticClass:"row title-addresses text-center"},[e._v("\n\t\t\t\t\t\t\t\t  Estatus de Ordenes \n\t\t\t\t\t\t\t\t")])])],1)],1)])]),a("div",{staticClass:"q-pa-md"},[a("q-tabs",{staticClass:"q-mb-lg",attrs:{align:"justify","narrow-indicator":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{staticClass:"text-red font-tab-table",attrs:{name:"validate",label:"Por validar"}},[e.toValidate.length>0?a("div",[a("q-badge",{staticClass:"q-mb-xl",attrs:{rounded:"",color:"red",label:e.toValidate.length,floating:""}})],1):e._e()]),a("q-tab",{staticClass:"text-indigo-10 font-tab-table",attrs:{name:"deliver",label:"Por entregar"}},[e.toDeliver.length>0?a("div",[a("q-badge",{attrs:{rounded:"",color:"indigo-10",label:e.toDeliver.length,floating:""}})],1):e._e()]),a("q-tab",{staticClass:"text-green font-tab-table",attrs:{name:"processed",label:"Procesado"}})],1),a("div",{staticClass:"q-gutter-y-sm"},[a("q-tab-panels",{staticClass:"text-center",attrs:{animated:"","transition-prev":"jump-up","transition-next":"jump-down","keep-alive":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"validate"}},[a("q-table",{staticClass:"font-body-table",attrs:{title:"Por Validar",data:e.toValidate,columns:e.columns1,"row-key":"id",loading:!e.isValidateFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols,(function(s){return a("q-th",{key:s.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                    "+e._s(s.label)+"\n                    ")])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n                        "+e._s(s.value)+"\n                      ")])})),1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"column items-end"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",round:"",color:"red-10",icon:"delete"},on:{click:function(a){return e.confirmDelete(t.row)}}}),a("q-btn",{staticClass:"q-mr-xs q-pa-xs float-right",attrs:{color:"indigo-10",label:"Validar"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR ENTREGAR")}}})],1)])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"deliver"}},[a("q-table",{staticClass:"font-body-table",attrs:{title:"Por Entregar",data:e.toDeliver,columns:e.columns2,"row-key":"id",loading:!e.isDeliverFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols,(function(s){return a("q-th",{key:s.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                    "+e._s(s.label)+"\n                    ")])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n                        "+e._s(s.value)+"\n                      ")])})),1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"column items-end"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"q-mr-xs q-pa-xs float-right",attrs:{color:"indigo-10",label:"Regresar"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR VALIDAR")}}}),a("q-btn",{staticClass:"float-right",attrs:{color:"green",label:"Procesar"},on:{click:function(a){return e.changeSaleStatus(t.row,"PROCESADA")}}})],1)])])],1)]}}])})],1),a("q-tab-panel",{attrs:{name:"processed"}},[a("q-table",{staticClass:"font-body-table",attrs:{title:"Procesado",data:e.processed,columns:e.columns3,"row-key":"id",loading:!e.isProcessedFetched},scopedSlots:e._u([{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},e._l(t.cols,(function(s){return a("q-th",{key:s.name,staticClass:"font-header-table",attrs:{props:t}},[e._v("\n                    "+e._s(s.label)+"\n                    ")])})),1)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t},on:{click:function(a){return e.GoDetail(t.row)}}},e._l(t.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:t}},[e._v("\n                        "+e._s(s.value)+"\n                      ")])})),1),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"column items-end"},[a("div",{staticClass:"row"},[a("q-btn",{staticClass:"float-right",attrs:{color:"indigo-10",label:"REGRESAR"},on:{click:function(a){return e.changeSaleStatus(t.row,"POR ENTREGAR")}}})],1)])])],1)]}}])})],1)],1)],1)],1)])])]),a("q-dialog",{attrs:{persistent:""},model:{value:e.PurchaseEdit,callback:function(t){e.PurchaseEdit=t},expression:"PurchaseEdit"}},[a("q-card",{staticClass:"my-card",staticStyle:{"max-width":"100%",width:"440px"}},[a("q-toolbar",{staticClass:"text-bluesito"},[a("q-toolbar-title",{staticClass:"title-session"},[e._v("\n              Agregar Referencia de Pago \n          ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close",round:""}})],1),a("q-separator"),a("q-item",{staticClass:"q-pt-md"},[a("q-item-section",[a("div",{staticClass:"row q-pt-md"},[a("div",{staticClass:"col-12 col-md q-px-md"},[a("q-input",{staticClass:"font-input",attrs:{label:"Numero de Referencia"},model:{value:e.referencecode,callback:function(t){e.referencecode=t},expression:"referencecode"}})],1)])])],1),a("q-card-actions",{attrs:{vertical:"",align:"center"}},[a("q-btn",{staticClass:"btn-init-session q-mb-md",attrs:{label:"Guardar",color:"bluesito",size:"sm"},on:{click:function(t){return e.updatePurchase()}}})],1),a("q-separator")],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.ShowMsg,callback:function(t){e.ShowMsg=t},expression:"ShowMsg"}},[a("q-card",{staticClass:"my-card",staticStyle:{"max-width":"100%",width:"440px"}},[a("q-toolbar",{staticClass:"text-bluesito"},[a("q-toolbar-title",{staticClass:"title-session"},[e._v("\n              Tipo de Pago en efectivo \n          ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"close",round:""}})],1),a("q-separator"),a("div",{staticClass:"container text-center q-pa-md"},[a("q-item-label",{staticClass:"label-register"},[e._v("Selecciones paga en efectivo, Confirmar tu pedido, te contactaremos.")])],1),a("q-card-actions",{attrs:{vertical:"",align:"center"}},[a("q-btn",{staticClass:"btn-init-session q-mb-md",attrs:{label:"Guardar",color:"bluesito",size:"sm"},on:{click:function(t){return e.CloseMsg()}}})],1),a("q-separator")],1)],1)],1)},o=[],i=a("2b0e"),c=(a("f508"),a("5cff")),d=i["default"].extend({data(){return{PurchaseEdit:!1,ShowMsg:!1,PurchaseId:"",referencecode:"",tab:"validate",text:"",isValidateFetched:!1,isDeliverFetched:!1,isProcessedFetched:!1,toValidate:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],toDeliver:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],processed:[{description:"",customer:{},created:"",bank:{},payment_type:"",coin:"",amount:0,reference:""}],columns1:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}],columns2:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}],columns3:[{name:"id",required:!0,label:"Nro Orden",field:e=>e.id,format:e=>`${e}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"customer",label:"Cliente",field:e=>e.customer,format:e=>`${e.email}`,sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"created",label:"Fecha",field:e=>e.created,format:e=>`${e}`,align:"center",headerClasses:"bg-blue-1"},{name:"payment_type",label:"Forma de Pago",field:"payment_type",sortable:!0,align:"center",headerClasses:"bg-blue-1"},{name:"bank",label:"Banco",sortable:!0,field:e=>e.bank,format:e=>`${e.name}`,align:"center",headerClasses:"bg-blue-1"},{name:"coin",label:"Moneda",field:"coin",align:"center",headerClasses:"bg-blue-1"},{name:"amount",label:"Monto",field:"amount",align:"center",headerClasses:"bg-blue-1"},{name:"reference",label:"Referencia Pago",field:"reference",sortable:!0,align:"center",headerClasses:"bg-blue-1"}]}},mounted(){const e=this;e.onRequest()},methods:{onRequest(){this.toValidate.pop(),this.toDeliver.pop(),this.processed.pop(),c["a"].getSalesByStatus(1).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.reference=e[t].reference,console.log("referencia pago",this.reference),this.toValidate.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{console.log("[completed]"),this.isValidateFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))}})},GoDetail(e,t){this.$router.push({path:`/purchases/detail/${e.id}/`})},showNotif(e,t){this.$q.notify({message:e,color:t,actions:[{label:"Ok",color:"white",handler:()=>{}}]})}},watch:{tab:function(){"deliver"!==this.tab||this.isDeliverFetched?"processed"!==this.tab||this.isProcessedFetched||(console.log("current tab: "+this.tab+"\nwas it fetched?: "+this.isProcessedFetched),c["a"].getSalesByStatus(3).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.processed.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{this.isProcessedFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))}})):(console.log("current tab: "+this.tab+"\nwas it fetched?: "+this.isDeliverFetched),c["a"].getSalesByStatus(2).subscribe({next:e=>{console.log(e);for(let t=0;t<e.length;t++)null==e[t].bank&&(e[t].bank={name:"N/A"}),this.toDeliver.push({id:e[t].id,customer:e[t].customer,created:e[t].created.substring(0,10),payment_type:e[t].payment_type,bank:e[t].bank,coin:e[t].coin,amount:e[t].amount,status:e[t].status,reference:e[t].reference})},complete:()=>{this.isDeliverFetched=!0,console.log(JSON.stringify(this.toValidate)+JSON.stringify(this.toDeliver)+JSON.stringify(this.processed))},error:()=>{alert("vacia")}}))}}}),b=d,u=(a("0f6d"),a("2877")),m=a("9989"),p=a("f09f"),f=a("429b"),h=a("7460"),g=a("58a81"),q=a("adad"),v=a("823b"),C=a("eaac"),y=a("bd08"),k=a("357e"),w=a("db86"),x=a("9c40"),_=a("66e5"),P=a("4074"),S=a("0170"),N=a("eb85"),O=a("a370"),Q=a("24e8"),D=a("65c6"),R=a("6ac5"),F=a("27f9"),$=a("4b7e"),E=a("7f67"),V=a("eebe"),T=a.n(V),A=Object(u["a"])(b,l,o,!1,null,null,null),J=A.exports;T()(A,"components",{QPage:m["a"],QCard:p["a"],QTabs:f["a"],QTab:h["a"],QBadge:g["a"],QTabPanels:q["a"],QTabPanel:v["a"],QTable:C["a"],QTr:y["a"],QTh:k["a"],QTd:w["a"],QBtn:x["a"],QItem:_["a"],QItemSection:P["a"],QItemLabel:S["a"],QSeparator:N["a"],QCardSection:O["a"],QDialog:Q["a"],QToolbar:D["a"],QToolbarTitle:R["a"],QInput:F["a"],QCardActions:$["a"]}),T()(A,"directives",{ClosePopup:E["a"]});var M=Object(r["defineComponent"])({name:"Purchasesorder",components:{PurchaseOrderComponent:J}}),G=M,B=Object(u["a"])(G,s,n,!1,null,null,null);t["default"]=B.exports;T()(B,"components",{QPage:m["a"]})},e8fe:function(e,t,a){}}]);